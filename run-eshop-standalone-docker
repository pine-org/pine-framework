mvn -f ./core-java8/pom.xml clean install -DskipTests=true
mvn -f ./core-spring/pom.xml clean install -DskipTests=true
mvn -f ./tutorial/pom.xml clean install -DskipTests=true

docker rm pine-eshop
docker image rm eshop:latest

docker build -t eshop:latest ./tutorial/eshop/rest-api/
docker run \
--name pine-eshop \
-p 9091:9091 \
-h pine-eshop \
-e ESHOP_HOST=0.0.0.0 \
-e ESHOP_PORT=9091 \
-e ENVIRONMENT=Development \
-e PROFILES=development,properties,i18n,h2,messaging,activemq-embedded,US \
-e MYSQL_HOST=host.docker.internal:3306 \
-e MYSQL_DATABASE=eshop \
-e MYSQL_PASSWORD=pine \
-e MYSQL_USERNAME=pine \
-e HIBERNATE_DIALECT=org.hibernate.dialect.MySQLDialect \
-e DATABASE_SCHEMA=ESHOP \
-e ACTIVEMQ_URL=tcp://host.docker.internal:61616 \
-e ACTIVEMQ_USER=admin \
-e ACTIVEMQ_PASSWORD=admin \
-e ACTIVEMQ_QUEUES=eshop,status \
-it eshop:latest